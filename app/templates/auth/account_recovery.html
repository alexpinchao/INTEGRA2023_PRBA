{% extends 'base.html' %}

{% block title %}
    {{ super() }}
    Recovery
{% endblock %}

{% block content %}
    <section class="login-section d-flex p-0 m-0" id="account-recovery">
        <div class="row pt-2 justify-content-center w-100 px-0 mx-0">
            <div class="col-xxl-6 col-md-8 col-12 d-flex flex-column m-0">
                <p class="text-center pt-1 pt-md-3">
                    <a href="{{ url_for('home') }}"
                       class="d-flex align-items-center justify-content-center">
                        <svg class="icon icon-xxs me-2" fill="currentColor"
                             viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
                                  clip-rule="evenodd"></path>
                        </svg>
                        Regresar al inicio</a>
                </p>
                <div class="card border-0 shadow components-section flex-grow-1 mt-2">
                    <div class="card-body p-0">
                        <div class="row d-flex justify-content-center p-0 m-0">
                            <div class="col-10 col-lg-6 login-image d-none d-lg-block p-0">
                                <img src="{{ url_for('static',filename='/images/image10.webp') }}"
                                     alt="Contextual image - oil well.">
                            </div>
                            <div class="col-10 col-lg-6 login-form px-2 px-md-3 px-lg-4 px-xxl-5 align-self-center py-5 my-5">
                                <h3 class="my-4 pt-3 fw-extrabold">Recuperar acceso</h3>
                                <form class="form" role="form" action="{{ url_for('auth.recovery') }}" method="POST">
                                    {{ recovery_form.csrf_token() }}
                                    <div class="form-group mb-1">
                                        {{ recovery_form.email.label(class_="my-0 fw-bold") }}
                                        <div class="input-group">
                    <span class="input-group-text p-1" id="basic-addon1">
                      <svg class="icon icon-xxs text-gray-600" fill="currentColor" viewBox="0 0 20 20"
                           xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                      </svg>
                    </span>
                                            {{ recovery_form.email(class_="form-control p-1", placeholder_="usuario@empresa.com") }}
                                        </div>
                                    </div>
                                    <div class="form-group my-3 p-0 text-center">
                                        {{ recovery_form.submit(class_="button btn login-btn") }}
                                    </div>
                                </form>
                                <hr class="featurette-divider my-2">
                                <a class="fw-extrabold pb-2 justify-content-center d-flex"
                                   href="{{ url_for('auth.login') }}">Iniciar sesi√≥n</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% block footer %}
                    {% include 'module/footer.html' %}
                {% endblock %}
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <!-- Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="{{ url_for('static',filename='js/popper.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    {% for message in get_flashed_messages() %}
        <script>
            function load() {
                setTimeout(function () {
                    $('#liveToast').fadeOut('fast');
                }, 3000)
            }

            window.onload = load;
        </script>
    {% endfor %}
{% endblock %}